<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">.lst-kix_ar13q5de0m8a-6>li:before{content:"\0025cf   "}.lst-kix_ar13q5de0m8a-5>li:before{content:"\0025a0   "}.lst-kix_ar13q5de0m8a-7>li:before{content:"\0025cb   "}ul.lst-kix_ar13q5de0m8a-2{list-style-type:none}ul.lst-kix_ar13q5de0m8a-1{list-style-type:none}ul.lst-kix_ar13q5de0m8a-0{list-style-type:none}.lst-kix_ar13q5de0m8a-1>li:before{content:"\0025cb   "}.lst-kix_ar13q5de0m8a-0>li:before{content:"\0025cf   "}.lst-kix_ar13q5de0m8a-8>li:before{content:"\0025a0   "}ul.lst-kix_ar13q5de0m8a-8{list-style-type:none}ul.lst-kix_ar13q5de0m8a-7{list-style-type:none}ul.lst-kix_ar13q5de0m8a-6{list-style-type:none}ul.lst-kix_ar13q5de0m8a-5{list-style-type:none}ul.lst-kix_ar13q5de0m8a-4{list-style-type:none}ul.lst-kix_ar13q5de0m8a-3{list-style-type:none}.lst-kix_ar13q5de0m8a-2>li:before{content:"\0025a0   "}.lst-kix_ar13q5de0m8a-3>li:before{content:"\0025cf   "}.lst-kix_ar13q5de0m8a-4>li:before{content:"\0025cb   "}ol{margin:0;padding:0}table td,table th{padding:0}.c10{padding-top:16pt;padding-bottom:4pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c5{color:#434343;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:14pt;font-family:"Arial";font-style:normal}.c0{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c9{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:16pt;font-family:"Arial";font-style:normal}.c17{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:20pt;font-family:"Arial";font-style:normal}.c14{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:italic}.c18{padding-top:0pt;padding-bottom:3pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c16{padding-top:18pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c19{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:26pt;font-family:"Arial";font-style:normal}.c1{padding-top:20pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c2{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c13{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline}.c12{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c6{padding:0;margin:0}.c7{margin-left:36pt;padding-left:0pt}.c11{margin-left:72pt;padding-left:0pt}.c3{color:inherit;text-decoration:inherit}.c15{font-weight:700}.c4{height:11pt}.c8{margin-left:36pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c12"><p class="c18 title" id="h.x71nviku415d"><span class="c19">@Persistence keystore guide</span></p><h1 class="c1" id="h.w4ys1vy9o9ao"><span class="c17">Overview</span></h1><p class="c2"><span class="c0">With the @protocol, a person&rsquo;s data may be stored in the @Persistence keystore -- an encrypted key/value store which is managed by the @client SDK. </span></p><h1 class="c1" id="h.rub4tar1h54i"><span class="c17">Where data is stored</span></h1><ul class="c6 lst-kix_ar13q5de0m8a-0 start"><li class="c2 c7"><span class="c0">Local @persistence storage</span></li></ul><ul class="c6 lst-kix_ar13q5de0m8a-1 start"><li class="c2 c11"><span class="c0">Works across any number of devices</span></li><li class="c2 c11"><span class="c0">Flutter secure storage uses device keychain to backup your keys</span></li></ul><ul class="c6 lst-kix_ar13q5de0m8a-0"><li class="c2 c7"><span class="c0">Remote @persistence storage</span></li></ul><ul class="c6 lst-kix_ar13q5de0m8a-1 start"><li class="c2 c11"><span class="c0">Provides always on accessibility and data backup in a secure cloud service</span></li><li class="c2 c11"><span class="c0">Does not hold the secret key to make changes on its own.</span></li></ul><ul class="c6 lst-kix_ar13q5de0m8a-0"><li class="c2 c7"><span class="c0">Synchronizing data between @persistence stores</span></li></ul><ul class="c6 lst-kix_ar13q5de0m8a-1 start"><li class="c2 c11"><span class="c0">Data is automatically between all local and remote storage locations</span></li></ul><h2 class="c16" id="h.m9urexnllkx9"><span class="c9">How data is stored and retrieved</span></h2><p class="c2"><span class="c0">As mentioned above, data is stored as an encrypted key/value pair. The @client SDK supports a typical set of methods to store and retrieve data from the @persistence keystore. For example, below are the key verbs that are used to interact with the </span></p><p class="c2"><span class="c0">Scan</span></p><p class="c2"><span class="c0">Update</span></p><p class="c2"><span class="c0">Lookup</span></p><p class="c2"><span class="c0">Delete</span></p><h2 class="c16" id="h.i5xn97ipbpyt"><span class="c9">Application Access</span></h2><h3 class="c10" id="h.uev7q630amoe"><span class="c5">Apps can reason over all of my data in my @persistence keystore</span></h3><p class="c2"><span class="c0">One super interesting side effect of giving people control of their data and storing it all in one place is that any application that they choose can reason over any data that they are allowed to access in order to create altogether new user experiences. </span></p><p class="c2 c4"><span class="c0"></span></p><p class="c2 c8"><span class="c0">For example, their @messaging application may contain a thread where a group of people are discussing which movie to go see on Wednesday night. If permitted, this information can also be presented as an event in their @calendar application as well as a group in their @contacts application.</span></p><h3 class="c10" id="h.dlfj6v7nds4f"><span class="c5">Accessing data in the @persistence keystore:</span></h3><p class="c2 c4"><span class="c0"></span></p><p class="c2"><span class="c15">Public data:</span><span class="c0">&nbsp;is, you guessed it, publicly accessible and can be read by anyone with a simple @protocol lookup for the given @sign.</span></p><p class="c2 c4"><span class="c0"></span></p><p class="c2"><span class="c0">To help to make this clear, we will use a simple example:</span></p><p class="c2 c8"><span class="c0">lookup:location@kevin =&gt; &ldquo;Silicon Valley&rdquo; // public value set by @kevin</span></p><p class="c2 c4"><span class="c0"></span></p><p class="c2"><span class="c15">Privately shared data:</span><span>&nbsp;is only accessible by the owner and the individual designated recipient using @protocol lookup after completing the </span><span class="c15">pol:</span><span class="c0">&nbsp;handshake for the given @sign.</span></p><p class="c2 c4"><span class="c0"></span></p><p class="c2"><span class="c0">So, in this case, the same lookup can return a different result.</span></p><p class="c2 c8"><span class="c0">pol:@colin</span></p><p class="c2 c8"><span class="c0">lookup:location@kevin =&gt; &ldquo;1900 Camden Ave&rdquo; // private value for @colin set by @kevin</span></p><p class="c2 c4 c8"><span class="c0"></span></p><p class="c2 c8"><span class="c14">Note: each private setting is stored as an individual record so that access control is &ldquo;hard coded&rdquo; to make it really easy to ensure robust privacy controls.</span></p><p class="c2 c4"><span class="c0"></span></p><p class="c2"><span class="c15">Creating, updating and deleting data:</span><span class="c0">&nbsp;can only be done by the owner of the data as controlled by access to the secret key for their data.</span></p><p class="c2 c4"><span class="c0"></span></p><p class="c2 c8"><span class="c14">Note: the cloud microservice does not have access to the secret key to prevent bad actors from accessing or modifying private data not meant for them.</span></p><p class="c2 c4"><span class="c0"></span></p><p class="c2"><span class="c0">Automatically store and retrieve data directly from your UI components</span></p><p class="c2 c4"><span class="c0"></span></p><p class="c2"><span class="c0">Flutter provider</span></p><p class="c2"><span class="c0">State source</span></p><p class="c2"><span class="c0">State sources include streams, futures, and instances of Listenable.</span></p><p class="c2 c4"><span class="c0"></span></p><p class="c2"><span class="c0">All of the data is automatically stored and synchronized for you.</span></p><p class="c2"><span class="c0">Applications that are certified as @ Protocol compliant can create amazing new user experiences with the ability to access and reason over all data stored in an @keystore.</span></p><p class="c2 c4"><span class="c0"></span></p><p class="c2"><span class="c0">TODO - add example and code</span></p><p class="c2 c4"><span class="c0"></span></p><p class="c2"><span>For more information about how data is stored and accessed in the @keystore - see </span><span class="c13"><a class="c3" href="https://www.google.com/url?q=https://docs.google.com/document/d/1DNLqBP6WipqdV9TXMUEfF6XgFrZRp7mg0EOfrBASUJc/edit%23heading%3Dh.b8cov52c02s9&amp;sa=D&amp;ust=1595954291471000&amp;usg=AOvVaw2w0ervH9SlASM7RsI8u3AI">Data Privacy and Permissions</a></span><span>. For more information about getting your application certified - see </span><span class="c13"><a class="c3" href="https://www.google.com/url?q=https://docs.google.com/document/d/1uE0UgLfZZKSpjIiMAJTcWcc2viwKza1qmrpbO1C2sWQ/edit%23heading%3Dh.3rvara7sbe3s&amp;sa=D&amp;ust=1595954291472000&amp;usg=AOvVaw0yP4uYE0aC6tZqyUEypqkk">The @ Certification Process</a></span><span class="c0">.</span></p><h2 class="c16" id="h.9wi9w5of74tj"><span class="c9">Access within an application namespace</span></h2><p class="c2"><span class="c0">Applications that only rely on data within its own namespace can also store data in the @keystore if certified as @ Protocol compliant. If the data being stored rightfully belongs to the person creating it (which is the case most of the time), then they will have control of how it is used and shared with other entities and applications. </span></p><p class="c2 c4"><span class="c0"></span></p><p class="c2"><span class="c0">TODO - add example and code</span></p><p class="c2 c4"><span class="c0"></span></p><p class="c2"><span>For more information about how data is stored and accessed in the @keystore - see </span><span class="c13"><a class="c3" href="https://www.google.com/url?q=https://docs.google.com/document/d/1DNLqBP6WipqdV9TXMUEfF6XgFrZRp7mg0EOfrBASUJc/edit%23heading%3Dh.b8cov52c02s9&amp;sa=D&amp;ust=1595954291473000&amp;usg=AOvVaw3yip0O9IYssZDGry7JOzvp">Data Privacy and Permissions</a></span><span>. For more information about getting your application certified - see </span><span class="c13"><a class="c3" href="https://www.google.com/url?q=https://docs.google.com/document/d/1uE0UgLfZZKSpjIiMAJTcWcc2viwKza1qmrpbO1C2sWQ/edit%23heading%3Dh.3rvara7sbe3s&amp;sa=D&amp;ust=1595954291473000&amp;usg=AOvVaw3cNCizmT3-qOB3lpb0A8a6">The @ Certification Process</a></span><span class="c0">.</span></p><h2 class="c16" id="h.mov7f0tv66ew"><span class="c9">Create a separate @keystore for your application (@certification not required)</span></h2><p class="c2"><span class="c0">If you would like to store application data, you are free to use the @keystore for your persistence if you want to. You may want to get your application certified anyways to advertise that it is privacy compliant and have your application included in the &lt;gallery&gt; then you are most welcome to do so.</span></p><p class="c2 c4"><span class="c0"></span></p><p class="c2"><span class="c0">TODO - add example and code</span></p><p class="c2 c4"><span class="c0"></span></p><p class="c2"><span>For more information about how data is stored and accessed in the @keystore - see </span><span class="c13"><a class="c3" href="https://www.google.com/url?q=https://docs.google.com/document/d/1DNLqBP6WipqdV9TXMUEfF6XgFrZRp7mg0EOfrBASUJc/edit%23heading%3Dh.b8cov52c02s9&amp;sa=D&amp;ust=1595954291474000&amp;usg=AOvVaw2h5TOaurR-vg1L_zrV9EdK">Data Privacy and Permissions</a></span><span>. For more information about getting your application certified - see </span><span class="c13"><a class="c3" href="https://www.google.com/url?q=https://docs.google.com/document/d/1uE0UgLfZZKSpjIiMAJTcWcc2viwKza1qmrpbO1C2sWQ/edit%23heading%3Dh.3rvara7sbe3s&amp;sa=D&amp;ust=1595954291475000&amp;usg=AOvVaw3IAI0XdqkgXKvoBRebVuGE">The @ Certification Process</a></span><span class="c0">.</span></p><h2 class="c16" id="h.8r9l5x881fgg"><span class="c9">Authentication only, no need to use the @keystore (@certification not required)</span></h2><p class="c2"><span class="c0">If your application does not require data persistence on behalf of the person using it; for example if you just want to make sure that your application is licensed to the person using it, then you do not need to get it certified. You may want to get your application certified anyways to advertise that it is privacy compliant and have your application included in the &lt;gallery&gt; then you are most welcome to do so.</span></p><p class="c2 c4"><span class="c0"></span></p><p class="c2"><span class="c0">TODO - add example and code</span></p><p class="c2 c4"><span class="c0"></span></p><p class="c2"><span>For more information about how data is stored and accessed in the @keystore - see </span><span class="c13"><a class="c3" href="https://www.google.com/url?q=https://docs.google.com/document/d/1DNLqBP6WipqdV9TXMUEfF6XgFrZRp7mg0EOfrBASUJc/edit%23heading%3Dh.b8cov52c02s9&amp;sa=D&amp;ust=1595954291476000&amp;usg=AOvVaw1Y0KCjKHjtbvckCB-_bWxp">Data Privacy and Permissions</a></span><span>. For more information about getting your application certified - see </span><span class="c13"><a class="c3" href="https://www.google.com/url?q=https://docs.google.com/document/d/1uE0UgLfZZKSpjIiMAJTcWcc2viwKza1qmrpbO1C2sWQ/edit%23heading%3Dh.3rvara7sbe3s&amp;sa=D&amp;ust=1595954291476000&amp;usg=AOvVaw2C3S0UO4q9k65za3kicDZL">The @ Certification Process</a></span><span class="c0">.</span></p><p class="c2 c4"><span class="c0"></span></p><p class="c2 c4"><span class="c0"></span></p></body></html>